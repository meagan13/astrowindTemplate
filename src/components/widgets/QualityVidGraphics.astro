---
import { Icon } from 'astro-icon';

interface Item {
    icon: string;
    alt: string;
    subtitle: string;
    tag: string;
}

export interface Props {
    title?: string;
    description1?: string;
    description2?: string;
    items: Array<Array<Item>>;
}

const {
    title = await Astro.slots.render('title'),
    description1 = await Astro.slots.render('description1'),
    description2 = await Astro.slots.render('description2'),
    items = [],
} = Astro.props;
---

<div class="my-12 px-20" id="qualityvidgraphics">
    <div class="lg:py-10 px-4 mx-auto lg:px-8">
        <div class="flex text-left">
            {
                (title && (
                    <div class="mb-10 text-left md:mb-12 md:max-w-2/3">
                    
                    {title && (
                        <h2
                        class="text-4xl font-bold leading-tighter tracking-tighter mb-4 font-heading"
                        set:html={title}
                        />
                    )}

                    {description1 && (
                        <p class="md:max-w-3xl mx-auto text-left text-muted dark:text-slate-400" set:html={ description1 } />
                    )}

                    <br />

                    {description2 && (
                        <p class="md:max-w-3xl mx-auto text-left text-muted dark:text-slate-400" set:html={ description2 } />
                    )}
                    </div>
                    )
                )
            }
        </div>

        <div class="circle-icons-div flex flex-wrap md:flex-nowrap md:max-w-2/3">
            {
                items.map((subitems) => (
                <div class="flex flex-wrap justify-center">
                    {subitems.map(({ icon, alt, subtitle, tag }) => (
                    <div class="flex flex-row md:max-w-1/3">
                        <div class="flex flex-col my-4 mr-4">
                            <div class="icon-div flex justify-center">
                                <Icon name={icon} color='#0f172a' class="block bg-green-100 fill-slate-900 rounded-full my-2 p-10"/>
                            </div>
                            
                            <div class="text-div flex justify-start flex-col">
                                <p class="mb-3 font-bold text-center text-sm" set:html={ subtitle } />
                                <p class="text-center text-muted dark:text-slate-400" set:html={ tag } />
                            </div>
                            
                        </div>
                    </div>
                    ))}
                </div>
                ))
            }
        </div>

    </div>

</div>