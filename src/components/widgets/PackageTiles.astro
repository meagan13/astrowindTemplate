---
import { getCollection } from 'astro:content';
import { findImage } from '~/utils/images';
import { Picture } from '@astrojs/image/components';

const packageList = await getCollection('packages', ({ data }) => {
  return data.draft !== true;
});


// Could we make each package button go to that section of the packages page? Astrowind uses a #component style to do this?
---

<section class="scroll-mt-16 px-20" id="supercharge">
    <div class="package-blocks flex flex-wrap justify-center">
      <div class="flex flex-row flex-wrap justify-center">
        {
          packageList.map((packages) => (
            <div class="flex md:w-72 flex-col max-w-xs  m-1 border border-slate-700 dark:border-slate-500 h-fit">
              <script> console.log("test script tag")</script>
              <div class="flex flex-col h-fit max-w-xs self-center">
                <div class="mb-4  top-0">
                  <img src="/assets/images/texture-header.jpg" />
                </div>
                <div class="max-w-max ">
                  <img src="../src/assets/images/Filming-Yourself-12fps-White-bg.gif" class="min-w-[50%]" />
                </div>
              </div>

              <div class="flex flex-col justify-evenly px-4 md:h-48 ">
                <h3 class="text-center text-2xl font-bold" set:html={packages.data.title} />
                <p class="text-center" set:html={packages.data.excerpt} />
              </div>

              <div class=" relative flex justify-center ">
                <button class="my-8 px-8 py-2 bg-indigo-900 rounded text-white font-bold" onclick="window.location.href='/packages">PACKAGES</button>
              </div>
            </div>
          ))
        }
      </div>
    </div>
</section>
